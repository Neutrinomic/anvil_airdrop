{"cells":[{"kind":2,"language":"javascript","value":"let can = await ic(\"dzbb3-wiaaa-aaaal-qdhiq-cai\");\n\nglobal({can});"},{"kind":2,"language":"javascript","value":"function parseCSVLine(line) {\n    // Regular expression to match either quoted fields or unquoted fields\n    const regex = /(\".*?\"|[^\",]+)(?=\\s*,|\\s*$)/g;\n    \n    // Get all matches\n    let matches = line.match(regex);\n    \n    // Check if there are matches; if not, return an empty array\n    if (!matches) return [];\n    \n    // Process matches to handle quoted strings and return the resulting array\n    return matches.map(field => {\n      // If the field is quoted, remove the quotes\n      if (field.startsWith('\"') && field.endsWith('\"')) {\n        return field.substring(1, field.length - 1);\n      }\n      // Return the field without modification if not quoted\n      return field;\n    });\n  }\n\nfunction ps(t) {\n    if (t == \"\") return null;\n     return t.split(\",\").map(x => parseInt(x.trim(),10));\n}\n\nlet dropsCSV = await readFileText(\"airdrop_targets.csv\");\n\nlet drops = dropsCSV.split(\"\\n\").map(x => parseCSVLine(x)).map( ([a,b]) => ([parseInt(b,10), a]));\n\nawait can.import_drop_targets(drops);"},{"kind":2,"language":"javascript","value":"await can.export_drop_targets().then(log);"},{"kind":2,"language":"javascript","value":"log(me)"},{"kind":2,"language":"javascript","value":"await can.get_amounts().then(log); // With 1,7806 NTN sent we will test the drop targets. Each receives 0.0001 NTN"},{"kind":2,"language":"javascript","value":"await can.getInfo().then(log);"},{"kind":2,"language":"javascript","value":"await can.start().then(log)"},{"kind":2,"language":"javascript","value":"await can.getErrors().then(log)"},{"kind":2,"language":"javascript","value":"await can.giveback().then(log)"},{"kind":2,"language":"javascript","value":"await can.drop(\"A00C26536F73F0ADD51DDDD5EF3220BB1842B2783E8BA1C4DD4A2DA172B1727A\", {owner:me}).then(log)"}]}